if(AmCharts.isModern){var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";var e=t.document,n=t.URL||t.webkitURL||t,o=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r=!t.externalHost&&"download"in o,i=t.webkitRequestFileSystem,a=t.requestFileSystem||i||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=0,u=[],l=function(t,e,n){for(var o=(e=[].concat(e)).length;o--;){var r=t["on"+e[o]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){c(t)}}},d=function(n,c){var d,f,w,v=this,p=n.type,h=!1,m=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(n);return u.push(e),e},y=function(){l(v,"writestart progress write writeend".split(" "))},E=function(){!h&&d||(d=m()),f?f.location.href=d:window.open(d,"_blank"),v.readyState=v.DONE,y()},R=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},O={create:!0,exclusive:!1};if(v.readyState=v.INIT,c||(c="download"),r){d=m(),e=t.document,(o=e.createElementNS("http://www.w3.org/1999/xhtml","a")).href=d,o.download=c;var S=e.createEvent("MouseEvents");return S.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(S),v.readyState=v.DONE,void y()}t.chrome&&p&&"application/octet-stream"!==p&&(w=n.slice||n.webkitSlice,n=w.call(n,0,n.size,"application/octet-stream"),h=!0),i&&"download"!==c&&(c+=".download"),("application/octet-stream"===p||i)&&(f=t),a?(s+=n.size,a(t.TEMPORARY,s,R(function(t){t.root.getDirectory("saved",O,R(function(t){var e=function(){t.getFile(c,O,R(function(t){t.createWriter(R(function(e){e.onwriteend=function(e){f.location.href=t.toURL(),u.push(t),v.readyState=v.DONE,l(v,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=v["on"+t]}),e.write(n),v.abort=function(){e.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),E)}),E)};t.getFile(c,{create:!1},R(function(t){t.remove(),e()}),R(function(t){t.code===t.NOT_FOUND_ERR?e():E()}))}),E)}),E)):E()},f=d.prototype;return f.abort=function(){this.readyState=this.DONE,l(this,"abort")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,t.addEventListener("unload",function(){for(var t=u.length;t--;){var e=u[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}u.length=0},!1),function(t,e){return new d(t,e)}}(this.self||this.window||this.content);"undefined"!=typeof module&&(module.exports=saveAs)}